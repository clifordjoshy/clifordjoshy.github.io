<!doctype html><html lang=en-in><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Microcontrollers, Mathematics and a Merry Christmas - clifpage</title><meta name=Description content="hello there."><meta property="og:url" content="http://cliford.net/posts/microcontrollers-mathematics/">
<meta property="og:site_name" content="clifpage"><meta property="og:title" content="Microcontrollers, Mathematics and a Merry Christmas"><meta property="og:description" content="Prelude We decided to put up some lights around the house for this year’s Christmas. As is my curse, I decided to whip up some fancy rainbow animations using a bunch of WS2811 LEDs and a NodeMCU that I had lying around. (see: LeapRGB)
What’s unique about these LEDs is that each one contains an IC; as such, it allows you to individually control each LED in the strip. A typical LED strip might have a power and a ground line and have the entire strip light up uniformly."><meta property="og:locale" content="en_in"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-12-26T22:13:31+05:30"><meta property="article:modified_time" content="2024-08-29T23:08:07+05:30"><meta property="article:tag" content="Arduino"><meta property="article:tag" content="Math"><meta property="article:tag" content="Nodemcu"><meta property="article:tag" content="Create"><meta property="article:tag" content="Technical"><meta name=twitter:card content="summary"><meta name=twitter:title content="Microcontrollers, Mathematics and a Merry Christmas"><meta name=twitter:description content="Prelude We decided to put up some lights around the house for this year’s Christmas. As is my curse, I decided to whip up some fancy rainbow animations using a bunch of WS2811 LEDs and a NodeMCU that I had lying around. (see: LeapRGB)
What’s unique about these LEDs is that each one contains an IC; as such, it allows you to individually control each LED in the strip. A typical LED strip might have a power and a ground line and have the entire strip light up uniformly."><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=http://cliford.net/posts/microcontrollers-mathematics/><link rel=prev href=http://cliford.net/posts/gnulinux/><link rel=next href=http://cliford.net/posts/college-retrospect/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Microcontrollers, Mathematics and a Merry Christmas","inLanguage":"en-in","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/cliford.net\/posts\/microcontrollers-mathematics\/"},"genre":"posts","keywords":"arduino, math, nodemcu, create, technical","wordcount":1535,"url":"http:\/\/cliford.net\/posts\/microcontrollers-mathematics\/","datePublished":"2022-12-26T22:13:31+05:30","dateModified":"2024-08-29T23:08:07+05:30","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Author"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"dark"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=clifpage><span class=header-title-pre><i class="fa-solid fa-laptop-code"></i></span>clif</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>posts </a><a class=menu-item href=/projects/>projects </a><a class=menu-item href=/resume.pdf>resume <i class="fa fa-external-link" aria-hidden=true></i></a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=clifpage><span class=header-title-pre><i class="fa-solid fa-laptop-code"></i></span>clif</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>posts</a><a class=menu-item href=/projects/ title>projects</a><a class=menu-item href=/resume.pdf title>resume<i class="fa fa-external-link" aria-hidden=true></i></a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Microcontrollers, Mathematics and a Merry Christmas</h1><div class=post-meta><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime="December 26, 2022">December 26, 2022</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;1535 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;8 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#prelude>Prelude</a></li><li><a href=#building-it>Building It</a><ul><li><a href=#math>Math</a></li><li><a href=#code-organisation>Code Organisation</a></li></ul></li><li><a href=#issues>Issues</a></li><li><a href=#notes-for-the-future>Notes for the future</a></li></ul></nav></div></div><div class=content id=content><h2 id=prelude>Prelude</h2><p>We decided to put up some lights around the house for this year&rsquo;s Christmas. As is my curse, I decided to whip up some fancy rainbow animations using a bunch of <a href="https://googlethatforyou.com?q=WS2811%20led" target=_blank rel="noopener noreffer">WS2811</a> LEDs and a NodeMCU that I had lying around. (see: <a href=/projects/leaprgb/ rel>LeapRGB</a>)</p><p>What&rsquo;s unique about these LEDs is that each one contains an IC; as such, it allows you to individually control each LED in the strip. A typical LED strip might have a power and a ground line and have the entire strip light up uniformly. Here, we have a power, ground and a data line that can be fed using a microcontroller.</p><p>This is the design that we decided to go with.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>: : : : : : : : : : : :
</span></span><span class=line><span class=cl>| | | | | | | | | | | |
</span></span><span class=line><span class=cl>| | | | | 7 7 | | | | |
</span></span><span class=line><span class=cl>| | | | 9     9 | | | |   =&gt; two strips of 72 leds =&gt; 144 leds
</span></span><span class=line><span class=cl>| | | 11       11 | | |
</span></span><span class=line><span class=cl>| | 13           13 | |
</span></span><span class=line><span class=cl>| 15               15 |
</span></span><span class=line><span class=cl>17                   17
</span></span></code></pre></div><p>As a big fan of symmetry (and in the pursuit of laziness), I decided that both halves of this design <strong>should</strong> be mirrored. This would allow me to feed the same input to both strips.</p><h2 id=building-it>Building It</h2><p>The way I would be wiring it was still unclear when I started working. I split the code into a few layers of abstraction so that I could fill in the bottom-most layer at the very end after the wiring was done.</p><ul><li>Display Layer: consists of methods to map coordinates to the corresponding LED index on the strip, and getters and setters for each LED.</li><li>Sequence Layer: a base <code>Sequence</code> class with virtual methods <code>setNextFrame()</code> and <code>init()</code>. Any animation sequence would inherit from this class and implement these methods.</li><li>Main Layer: declares all the sequences and calls the respective methods to set the next frame and push it to the LED strip at appropriate delays.</li></ul><p>There are two digressions I would like to go on here. But, before I get into that, I need to re-capture your attention with some flashing lights. So, here&rsquo;s how it finally turned out.</p><a class=lightgallery href=./lights.gif title=./lights.gif data-thumbnail=./lights.gif><img class=lazyload src=/svg/loading.min.svg data-src=./lights.gif data-srcset="./lights.gif, ./lights.gif 1.5x, ./lights.gif 2x" data-sizes=auto alt=./lights.gif style="display:block;margin:10px auto 0;height:250px"></a><p>I will get to the glaring issues <a href=#issues rel>later</a>. Getting into the digressions,</p><h3 id=math>Math</h3><p>The need for math in computer science is often questioned (outside math-heavy realms like ML and whatnot). I&rsquo;m of the opinion that you can find what you need (with the almighty power of the Internet) when you need it, but random stuff I learnt in school still finds relevance in my day-to-day projects. For this specific project, I was writing a function to map from a coordinate to the corresponding LED number on the strip.</p><p>A single strip is as follows.</p><pre tabindex=0><code>      0 1 2 3 4 5
                ╔═════ Power + Data In
      ▲ ╔═╗ ╔═╗ ▼
   0  │ │ │ │ │ │
   ┊  ┊ ┊ ┊ ┊ ┊ ┊
   6  │ │ │ │ │ │
   8  ║ │ │ │ │ │
  10  ╚═╝ │ │ │ │
  12      ║ │ │ │
  14      ╚═╝ │ │
  16          ║ │
              ╚═╝
</code></pre><p>Here, we have 6 lines labelled 0-5. The leftmost line contains 7 lights, and the rightmost line 17. In general, the <code>i</code>th line contains <strong><code>7 + 2i</code></strong> lights on it. You might&rsquo;ve noticed that this is an arithmetic progression. And that realisation is what&rsquo;s going to come in handy later.</p><p>For an arithmetic progression with common difference <code>d</code> and first term <code>a</code>, we have the following formula for the <code>n</code>th term.</p><data id=id-1 data-raw></data><p>Since we&rsquo;re moving right to left, we can see that we have a = 17 and d = -2.</p><p>What we&rsquo;re trying to do is map a <code>(line, element)</code> pair to the appropriate index on the strip. For example, <code>(5,0)</code> would be <code>0</code> and <code>(0, 0)</code> would be <code>71</code>. So, what&rsquo;s the approach we&rsquo;re taking here?</p><p>The direction of the lines alternates back and forth. On an odd-numbered line, we would move top-down, and the opposite on an even-numbered line. The general approach we need is to find the total number of lights up to the previous line and then add/subtract the number of lights corresponding to the current line. Let (<code>line</code>, <code>element</code>) be the coordinate we&rsquo;re trying to resolve.</p><ol><li><p><strong>up till the previous line</strong></p><p>Since we have the realisation that this is an arithmetic progression, we have a ready-to-go formula we can apply to get the sum of terms.</p><p><data id=id-2 data-raw></data>
Since our line index is opposite to the direction of the progression, we calculate <code>n</code> as <code>5-line</code>.
<data id=id-3 data-raw></data></p></li><li><p><strong>current line</strong></p><p><code>element</code> gives us the offset from the top of the line. If this is a top-down line, we can just add <code>element</code> to the previously obtained sum to get the index. Otherwise, we can calculate the offset from the bottom by subtracting <code>element</code> from the total number of lights on the line.</p></li></ol><p>Putting this together, we have the following function.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=kt>int</span> <span class=nf>coordToLedIndex</span><span class=p>(</span><span class=kt>int</span> <span class=n>line</span><span class=p>,</span> <span class=kt>int</span> <span class=n>element</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=c1>// total lights until the previous line. (using our sum formula)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kt>int</span> <span class=n>lineOffset</span> <span class=o>=</span> <span class=p>(</span><span class=mi>5</span><span class=o>-</span><span class=n>line</span><span class=p>)</span><span class=o>*</span><span class=p>(</span><span class=mi>13</span><span class=o>+</span><span class=n>line</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>elementOffset</span><span class=p>;</span>  <span class=c1>// the offset on the strip for this line.
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=k>if</span><span class=p>(</span><span class=n>line</span> <span class=o>%</span><span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>){</span> <span class=c1>// even lines are bottom-up.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>lineLength</span> <span class=o>=</span> <span class=mi>7</span> <span class=o>+</span> <span class=n>line</span><span class=o>*</span><span class=mi>2</span><span class=p>;</span>  <span class=c1>// total length of the line
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>elementOffset</span> <span class=o>=</span> <span class=n>lineLength</span> <span class=o>-</span> <span class=mi>1</span> <span class=o>-</span> <span class=n>element</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span> <span class=c1>// odd lines are top-down.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>elementOffset</span> <span class=o>=</span> <span class=n>element</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>lineOffset</span> <span class=o>+</span> <span class=n>elementOffset</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Now, I know arithmetic progressions aren&rsquo;t awfully complex. I&rsquo;m sure you could devise the logic for this with a minute of pondering. But my point still stands. There have been many occasions where the math I&rsquo;ve learnt has come in handy simplifying the code I&rsquo;m writing. (of course, I didn&rsquo;t have a void to scream into then; good thing I have this blog now). Eitherway, this whole math section here is just an excuse for me to mess around with <a href=https://katex.org/ target=_blank rel="noopener noreffer">KaTeX</a>, so take what I say with a grain of salt.</p><h3 id=code-organisation>Code Organisation</h3><p>Trying to follow the layer structure above, I wanted to split my program into multiple files and include it all in a <code>main.ino</code>, but that is not how the Arduino IDE expects you to organize code. If the folder is called <code>MerryChristmas</code>, then we would have a <code>MerryChristmas.ino</code>, which is the file that will be uploaded. If you want more files, we would have something like</p><pre tabindex=0><code>MerryChristmas
├── MerryChristmas.ino
├── 10_Display.ino
├── 20_Sequence.ino
├── 30_Sequences.ino
└── 40_main.ino
</code></pre><p>Each file other than <code>MerryChristmas.ino</code> will be sorted in alphabetical order, placed together and uploaded as a singular file with <code>MerryChristmas.ino</code> first. This is awful. The Arduino IDE, in my opinion, feels very amateurish and, until recently, did not even have a dark mode (in this day and age, high treason). Not to mention the clutter that it adds to the home directory. Obviously, it&rsquo;s not built for the most technical audience and definitely does not need to worry about anything I&rsquo;ve mentioned here.</p><p>I tried to set it up with VSCode, but it felt like a whole hassle to get that working, and it does not even work properly if I don&rsquo;t have the IDE installed. There is an alternative in the form of the <a href=https://arduino.github.io/arduino-cli target=_blank rel="noopener noreffer">arduino-cli</a> though, which is always promising.</p><p>I did stumble on some even cooler alternatives which I&rsquo;ve mentioned <a href=#notes-for-the-future rel>later</a>.</p><h2 id=issues>Issues</h2><p>At the beginning of this post, I&rsquo;d mentioned symmetry, mirroring, and whatnot. If you take one good look at the GIF/GIF above, you&rsquo;ll see that there&rsquo;s none of it.</p><p>My personal deduction is that this must be because of attenuation along the line. The controller is placed at the rightmost end, and the lines are fed from the top of the 17 LED lines. So, there&rsquo;s a wire that goes across the entire setup carrying the data from the controller to the beginning of the left strip. The data must be getting distorted, or some other hijinks with the wire must be afoot.</p><p>Either way, it didn&rsquo;t look too bad. So, as they say,</p><blockquote><p>it&rsquo;s not a bug; it&rsquo;s a feature</p></blockquote><p>I should&rsquo;ve considered the possibility of treating the entire setup as a single strip of 144 LEDs, which might not have had this issue. The whole point of splitting it was to ensure everything was shining with maximum brightness. Oh well.</p><h2 id=notes-for-the-future>Notes for the future</h2><p>I happened to stumble upon <a href="https://www.youtube.com/watch?v=ZPSqhb4KKNc" target=_blank rel="noopener noreffer">this YouTube video</a> the other day (really cool channel btw. would recommend.). The essence of the video is the usage of Rust to write a program that compiles down using the <code>avr-gcc</code> linker and can be run on the AVR processor of the Arduino.</p><p>He talks about the usage of Hardware Abstraction Layers to access the peripherals and pins of the Arduino. I found it quite interesting being able to flash such low-level code to the Arduino. There are similar HALs for the Raspberry Pi too, which allows you to write the bootloader even. Really cool.</p><p>Rust, being the cult that it is, has always been something I&rsquo;ve wanted to work with. Maybe this will finally give me a reason to mess around with it. Keep a lookout on the <a href=/projects rel>projects</a> page to see if I made it (fingers crossed).</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on August 29, 2024&nbsp;<a class=git-hash href=https://github.com/clifordjoshy/clifordjoshy.github.io/commit/45fae8d11586a538e98e661cd01f8cf519537bd1 target=_blank title="commit by Cliford(clifordjo@gmail.com) 45fae8d11586a538e98e661cd01f8cf519537bd1: chore: tag all technical posts">
<i class="fas fa-hashtag fa-fw" aria-hidden=true></i>45fae8d</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/arduino/>Arduino</a>,&nbsp;<a href=/tags/math/>Math</a>,&nbsp;<a href=/tags/nodemcu/>Nodemcu</a>,&nbsp;<a href=/tags/create/>Create</a>,&nbsp;<a href=/tags/technical/>Technical</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/gnulinux/ class=prev rel=prev title="On GNU/Linux and Ricing"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>On GNU/Linux and Ricing</a>
<a href=/posts/college-retrospect/ class=next rel=next title="College: Calicut, Coding and COVID">College: Calicut, Coding and COVID<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=giscus class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app>Giscus</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.133.1">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022 - 2024</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank></a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{giscus:{category:"Comments",categoryId:"DIC_kwDOInhGJM4CWUOw",darkTheme:"transparent_dark",emitMetadata:"0",inputPosition:"top",lang:"en",lazyLoading:!1,lightTheme:"light",mapping:"pathname",reactionsEnabled:"1",repo:"clifordjoshy/clifordjoshy.github.io",repoId:"R_kgDOInhGJA"}},data:{"id-1":"\\[a_n = a + (n-1)d\\]","id-2":"\\[{S_{n}={\\frac {n}{2}}[2a+(n-1)d]}\\]","id-3":`
   \\[n = 5 - line, a = 17, d = -2\\]
   \\[S_{n} = \\frac {5-line}{2}[2(17)+(5-line-1)(-2)]\\]
   \\[S_{n} = (5-line)(13+line)\\]
   `},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>